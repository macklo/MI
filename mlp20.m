function [y1] = mlp20(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 09-Jun-2019 21:55:05.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx13 matrix, input #1
% and returns:
%   y = Qx2 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1];
x1_step1.gain = [1;1;1;1;1;1;1;1;1;1;1;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [2.2527970892935984537;-4.5781256579031195386;3.7593014836591369665;3.9311996907119999278;1.4115905870054918925;0.98643921362416520093;-0.798040176741656615;-0.052424344855236254537;0.20788684887358413467;-0.92443993272973079556;-0.090678892190140955587;1.5917218161200010762;0.59741247807725050833;0.10184492489370411406;1.7798098491621954231;-0.85579199333098932012;-0.55579125207297441769;0.69697264137677228391;1.9893042681282677719;-3.5014636591914793939];
IW1_1 = [-1.1332452065368650018 -0.19179937792618170778 0.143658438787565651 -1.4086030290912259222 0.79779760644352781807 -0.22092875330686911894 0.15920048749915260977 -0.56154280514926324663 -0.46787144363410454462 0.89337115631147268058 2.9621579080022413244 -1.6277958593472403592 -0.53938781605381347362;3.4578217036724909761 -0.43556016341901143685 0.016501984339786130579 -1.521762699705491384 -0.45879636468281537187 0.431150946371762267 1.3586350298986571428 0.84789000837320549486 -0.22286586254817747355 1.5058746641055709148 -0.57106731820252099041 -0.24436386393002326733 0.60480695254287764051;0.53030021929698489824 0.12460408537206317525 -0.082712375490482673013 1.5115901391705310886 -0.75775123179422920749 -1.7149015912348952728 -0.16288748497795679793 -1.0993274197012088411 0.64087301382212047418 -1.6967647170799817768 -0.35445434444692552889 0.1673343575884642942 -2.6951050854885139074;0.77436614970614736642 -0.038267991561411460189 1.5354331201950035535 -2.0145272623110987986 0.34417264582602025147 0.42179649444281519521 -0.20972927171130201218 1.1506759800911463554 -2.834235678610951048 2.2242443113053487203 0.42316674182171087892 -0.44634716957833042716 2.4648029668851014762;-0.50423556495817289935 -0.025720097616172461069 0.063014535632198345749 0.64352453603015469241 -0.29763663587051020221 0.67868018136679941765 0.036256294303470763818 -0.42666492154321283836 -0.0078535557955967429111 -0.31227486403650650537 -0.44347504925742020632 0.73166978641855029419 -0.74287373355311581147;-0.49625563173088277358 -0.32367521323949077772 0.041063384249833731476 -0.31557395421392908652 -0.96592662042779064979 1.1124602790458104629 0.30640157786461685863 0.0065545599827765144152 -2.1224418040276802344 -0.82669921747322216987 -0.62599109908374894751 -0.50416871795513784615 0.38209091849637838445;-0.3953198450677527509 0.22209399406465854532 -0.45151782975629400907 0.28516433456461209861 -0.23712701871259100894 -1.5479514537150342868 -0.26413753852490540197 0.60423432452929948244 0.17227065335925390022 0.65521012544700740765 0.69138084436640356856 0.0082196347339125886561 0.11636652691193553888;-0.29604129564515330175 0.053036998353146971863 -0.13622475580195719802 -0.15985076338156531395 0.27945746207760041591 0.57619418797420773881 -0.23710491395016708438 0.32279198185644714103 -0.031645926631022627817 0.55657409423072690124 -0.34312862873513283457 0.046272122315009142635 0.096296975102228635213;-0.068948550097890359822 -0.021645160726213176494 0.081185137673662213786 0.0046584616959031224792 -0.42919290664564307969 0.089517012551285912725 -0.04891898433601190449 0.073820079765170382169 0.44785163904935165746 -1.0030391946628094413 0.71716335754779592104 -0.79028849342910056919 -1.0189848490672608339;0.71430173824102538571 -0.22742116952508723005 0.6633762599451467068 -1.3435236475304790371 0.10528780691664216262 1.7065963002256643311 0.14712201526437837518 -0.38815774796702673388 -0.23577390542527676409 -0.038140090379497448847 0.68751342634323520109 -1.3595811628411975658 -0.17406677910697096467;-0.160253686824101238 -0.018041438958999324316 0.085409813748081278573 -0.44136168448252982577 -0.034896739274618504556 0.22241612788610262696 -0.10005335579095504805 0.56800555204884561888 0.1515276716462421458 -0.61320606621576279061 0.46357948966299050708 -1.1033360465791410832 -0.30029511154899235503;-0.62597348575167233165 -0.076243345625431058199 0.16574794513240612148 1.8535541525368641746 1.7633920575731292235 0.48265625516818699836 -0.44172767967864656757 -1.3758892039272354602 0.89274750622987519844 -1.3412949492687629149 -1.1253012127441408552 0.85721461261551890054 1.06217711741824683;0.11879682809632018115 -0.046229495714954674246 0.4549350379444347392 -0.69551576394638237044 0.50528531651474817288 0.19517856534745556263 0.046088718265289811693 -0.32490999842986273416 -0.099641064441948298813 0.58642297012100452758 0.71027086730452482222 -0.99772203346815124814 0.74092703924499681012;0.10482744396061360881 0.08587376643243201102 -0.15198567873319140942 -0.11311312744501919592 0.099471207634316591295 -1.1110534752572620576 0.017934629561984067464 0.72008653521610299642 -0.16473479040148450436 -0.24712371592666834696 -0.22767544092864672178 0.25912505607788671735 0.54138451020965949745;1.1627090179953998295 0.12219643743259653301 -0.14629629957972289933 -0.91573060050422583345 -0.1200015440548809903 0.020508963563153227022 -0.012160825245008850121 1.2140519518607180149 -0.25011447642570200367 0.36369331079287559039 -0.99050341240858941205 0.17023260090426928226 0.7629216851680663547;0.29155674683832449867 0.041046098611340252338 -0.97510526689099963349 0.45849552965141104899 -0.69339728505658349 -0.47938698242042621089 0.083452169305644668951 0.48236913136734266283 -0.27894340585396454335 -0.24350642217292245428 -0.18094741655823759485 1.0054504624560145487 -1.5217675771708321086;0.13666934900390670382 0.033184539352490119435 -0.61177651655614295745 -1.3151020278170144628 -0.22512002108804274325 -0.36038727179267160405 0.34368402036521578102 -0.03093521721813268649 -1.325740607309634056 -0.16549654770828042816 0.74172174009209512757 1.1729745092413059737 -2.0729727493600602628;0.073542456028615726948 0.024006559647004346164 -0.15275958377212156547 -0.13852824882031417042 0.10347455691957721524 0.30573297886425293557 -0.086973801186586957579 0.008620478132936423149 -0.21599922761478917987 0.53254563144967992372 -0.15931425622164949174 0.19890568737565211821 0.084041253512262742431;-0.63638674871196210248 -0.004637117523413700898 1.3689693668625020351 -0.25126023354690785183 0.68093999284058803756 0.63504167433261315967 -0.25763580201679470161 -0.54645309194803104447 0.35551594551606402472 -0.75948481003668966149 -0.86355392822494925209 -0.154356343096357429 1.7423175832682697983;-0.63079093498687743846 -0.23101189425924961718 -0.44055613563965106971 1.7546906857316753037 -0.78440510748803893293 1.5382104712044553096 -0.024563850991844389526 -0.4653319216815627879 0.0008351489361762250499 2.6419791355948478717 0.98242320426054163818 -0.3227063506128114434 0.8761644862472864892];

% Layer 2
b2 = [-0.97974714058242895476;-1.0696918680372902166];
LW2_1 = [0.97633655452006440356 -0.27937252451266714193 -0.21296540116862963665 0.8509512450965092123 0.96765288984680475348 -0.10754936059011077631 0.50067186757501569438 -1.3608110708596694582 -1.6786121882480884437 -0.36809776084580242417 1.93594506444399439 0.3409711719509278538 -1.6550394827473968729 -1.0601966333512484741 -1.2266818616852046553 -1.2737807986041220776 0.25701822589065925762 0.7539994155495253203 -0.65195280295060908937 -0.21485875778704144334;1.4961930468299393659 -0.43684819876499930702 -0.22316894003519752165 0.84076684342811724981 0.94414317867303676479 -0.054620167110897226148 0.51391905711328134121 -0.98266231952077798262 -1.5668429622798896172 -0.31577048306314137172 1.7182581917709129904 0.24964452240669668392 -1.5625011663923922267 -0.92048398329251224226 -1.076673275442754818 -1.1023268142434881067 0.21340084192543820607 -0.078631440107008315765 -0.50921645338441101636 -0.18915300878303356602];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1];
y1_step1.xoffset = [-1;-1];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
