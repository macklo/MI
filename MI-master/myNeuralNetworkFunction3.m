function [y1,xf1] = myNeuralNetworkFunction3(x1,xi1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 07-Jun-2019 20:10:26.
%
% [y1,xf1] = myNeuralNetworkFunction(x1,xi1) takes these arguments:
%   x1 = 13xTS matrix, input #1
%   xi1 = 13x5 matrix, initial 5 delay states for input #1.
% and returns:
%   y1 = 2xTS matrix, output #1
%   xf1 = 13x5 matrix, final 5 delay states for input #1.
% where TS is the number of timesteps.

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1];
x1_step1.gain = [1;1;1;1;1;1;1;1;1;1;1;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [1.6033848454652286364;1.2142592165719583441;1.2615726168292058507;0.30071849536747119469;-2.7344411595799571479;1.2154791674377405375;-0.64373353051653670054;-0.66808370810381600968;0.5265304680024589512;-0.46934757948956679074;0.60752730493135709278;-0.46511183502773945087;-0.25170879674134422066;-1.0365136195527675511;-1.1972599205373148923;-0.9229701303254286282;-1.8805476353546168866;-1.1080640764338340887;-1.0489375065475587956;-1.5591529605985934293];
IW1_1 = [-0.5186728093968543396 -0.022416721185943282169 -0.013702839023267153473 0.082180941310692368074 -0.10725102324310438473 -0.15857163489542777657 -0.051439625052179895059 0.16225945759751400632 -0.4916663311712023976 -0.53400321648176007905 -0.39743334645772238067 0.14179254525522685948 0.37755964910974676441 -0.074163002568245581236 -0.067165381463037326926 -0.067153760413781835026 -0.51748400732724320061 0.1402623705179854019 0.13306414886119879992 0.061301605357509114658 0.040226545180927095191 -0.39455387430036487073 -0.21593076407064351607 -0.14874825926933626929 0.16289380020158839013 0.24276293021436864961 -0.13765538786537792615 0.017672330228357402415 -0.0044815792230295109499 -1.2411855345722901944 0.30646272399159202315 -0.52828620925136882125 0.10073468727005122081 -0.18444703390998068437 -0.2245528752156209229 0.094532156309241860415 -0.10453037297140561901 -0.1993052592404311596 0.21335196694238545145 -0.15837036916906788164 0.024195915504781180527 0.18295425283344343703 0.47527842427493960376 -0.29634275756254713219 0.1906552375773277741 -0.081444198656784289048 0.003633879517892475014 -0.15677242013355044414 -0.11262837457879398828 -0.079509693568623765469 0.164883034548354096 -0.10032580818503428199 0.29976874936772429647 -0.091667542241395214009 -0.051059381670988349122 0.2382772845269083839 0.14873491837834629248 0.052792977453504363883 -0.084259493994724155019 0.15120242838802197549 -0.26953703556498914695 0.12417589804903245154 -0.37278497179877057022 0.51543554938707414337 0.16439433860733804194;0.059366871282392673359 0.065919668477258996919 -0.090781017328188065574 -0.23457114149394475699 0.76527286469949107328 -0.18324953619287581708 -0.012043665823056427105 -0.27474843982221214267 -0.26031798254184074226 1.2467983572710827911 0.19403601063508782443 -0.57604769662535193486 0.23247334111681478008 0.050715460946463716829 0.0055846375061067102946 0.0031706003561100051802 0.40030038513670884726 0.57658666660961588324 0.1837972446758617262 0.036398729601888765717 -0.097057102618367155356 -0.041407850032562913689 0.32178762642418201612 -0.29295322376771848472 0.050070583536301921379 0.062574855660132169821 -0.02206536528457230667 -0.10764169236667081586 0.055725521466759506128 0.59930409201616918757 0.77537317585224052596 0.18479189960921144076 0.11593046119142766393 0.030043592817977693432 0.27991890008422598557 0.10068407780876612034 -0.37002510928647658339 0.19236636625816078139 -0.083763908432964009898 -0.21636640967138787151 0.20232912018224308293 -0.12600190176167669343 -0.070182251536508977185 -0.89927341820532480376 -0.14198634487511110902 -0.08502693871464588049 -0.65805942714216281164 -0.025056069575722608733 -0.46293415821307920544 0.0013195863300929852602 0.097971056301863507221 -0.20968325662730546988 0.041951833655967156467 -0.16567360679791148792 0.030096108718861015741 0.28712004714385419568 -0.70358128458351776313 -0.045984888758520373053 -0.058591342175775038004 -0.40002687275155218716 0.081611643367140385141 -0.18412177813482491495 -0.37700706390486560249 0.13760248916713940792 0.1558304279555127736;0.554602022137551387 -0.055920374246801005103 -0.1847142973653426723 -0.65097063437688507115 -0.36927453302602447627 0.08959563603973089152 -0.055848968892432855615 0.31643199335287380825 -0.47505427507393488407 -0.26035324902092055188 0.39722402949239682401 -0.42561816215734099567 0.23715842167051520706 0.40568098386752632356 -0.051449315083316730923 -0.23014402534035177661 -0.3644784828793796172 0.053447999959883960019 -0.20623302472278357 -0.22877734341363556436 0.28723034707589278902 -0.26181299330590784846 -0.12922358152725474389 0.29241393359074729918 -0.2560643743994330257 0.28574638090381221378 -0.53825281969148031092 0.050826940301852897852 -0.2448169107096285213 -0.58616660425986866212 0.15012936191837977784 0.21205221145487879175 0.11834780420384456712 0.032675162710166197333 -0.38040020468511481777 0.076045011740528398181 0.28066360575902310481 -0.50298024403175334296 -0.15421357316618133915 0.68628977279284053559 -0.039148422146153182 0.15313433244358504171 0.33929574242931348493 -0.19364052212558563459 -0.18273683793080419679 -0.1503649941708665172 0.13381454730909672635 0.30158606540292814957 0.83536476307090179461 0.31797352688986901814 -0.61893253529673764035 0.69889118525856575026 0.48408338025992453391 -0.0032503807385677310413 0.61208899554104656549 -0.36586839989278746588 -0.14420743997335194742 0.086098620397329725384 -0.071936510129145342374 0.30882134799339977516 0.038100578761827895435 0.7656950434450601195 0.31607073959728165802 -0.57447672885313139091 0.0072213999817496528008;-0.25095656569896984678 -0.018807353250235244596 -0.028959135689136661362 -0.019921445967138483313 0.17121767675052557145 0.64400784196126570347 0.14601306631736812869 0.14154472769165779567 0.38267613621515444988 -0.048844335788328419046 0.39925377649316567963 -0.10831636879735644097 -0.28486224012308142273 0.15914401332227237629 -0.00036014840844367582151 0.34252466156793787144 0.12040834110430313764 0.18156542919197685149 0.39950418863323328145 -0.017553985595153132754 -0.2699523609980304939 0.56210311841734195148 0.34020037433689481743 0.26128934738813602845 -0.56293455899598721093 0.031065350416690486191 -0.010125361152828041278 -0.032182594372378761638 -0.1544130406959196844 -0.093483242634177426966 -0.63241241838892714444 0.10094190611549318237 0.21264461462347095111 -0.76126184407676555921 1.0662945541641914993 -0.22992082825906454135 -0.13264816110406824068 0.47615125986837442129 0.44765626502060268388 -0.13719597919625070581 -0.1506767152651922459 0.05280554982968572314 0.61798578382869673309 0.21524436387065404297 0.26384007390802860504 -0.0084501119529462043189 0.33665969237310794382 -0.29269006125235530469 0.15797325815285373496 -0.22828010659296033014 -0.48974769354874336802 -0.80031966859902259337 0.24438553648472427504 -0.028737973880359271583 -0.32508687497797222887 0.98694605169818150348 -0.28300544150610801308 0.22756454306791340514 0.013258987057325956338 0.079331020508809260705 0.31175175570997670782 -0.32422351402057980607 0.26246825424751102362 -0.29623200976089547609 -0.51590906047312656835;1.7715417826082715536 -0.057455711984968668715 -0.10667603977031292484 -1.1887601040925428464 -1.9546413058035845278 -0.011133418362709590621 -0.011488268714047754349 -0.44074660775920576627 -0.56601672826784565906 0.22615580979463728584 -0.35041235906533996225 0.49785423069450385203 0.60109561463566263395 0.18763864523488127389 -0.046200340328434542914 0.078993181372604664991 -0.1277413158885090938 -0.10206156778349392833 -0.24091374241007326718 -0.13831735873880710019 -0.47352675447888226135 -0.26741140957160786096 0.13865695991806264997 -0.97440322632659204238 0.12067082990713529078 -0.38617931288160467496 -0.79563400890870483728 -0.0084281670782484028465 0.084754744356267674998 -0.014678509160359676233 1.8618977866276971156 0.71143803349228018629 -0.024630443363378627664 0.25907280368190721553 -0.048761994270134008389 -0.59226443587844368466 -0.30690416568160977517 0.21916906876658640013 0.059523248379262996832 0.2801984725619914296 0.11629771479112717414 0.067446902470924580131 0.99443195748073931473 0.70889112762349948405 0.27587134527982515309 0.48918201779782932714 -0.30838398987689102926 0.22094960092638121774 -0.080582063331908884707 0.49843439127934408006 -0.57261486800650029938 -0.24802958869898245053 -0.006852842758290633024 -0.036281326198455109144 -0.16405615151980712518 -0.023914836158644772746 -0.47594148123930102301 -0.10615568641105284364 -0.14725610223044141578 0.53994250798312481976 -0.073133416103396547969 0.28745894879015648771 0.72334647234754601008 0.59178812363873944946 -0.11906234358536223195;-0.3650188435708851542 0.055033036287447344159 0.00066040242653627768965 -0.25524733362280577209 0.24512138246285369858 -0.10894529197936760057 0.048753708155999525564 0.73410110655921567702 -0.091704988038824195029 -0.26596772634151383263 0.077721545456112831052 -0.44382885049486442419 0.059103570201654201388 0.0645974398588562565 -0.049950959628827985848 0.018977301693860908205 0.49080926043158951133 0.14807587966146731895 -0.066416731795137518013 -0.0084183602284807132476 0.34006903882150629759 -0.20495799642286843811 -0.34099394807017296971 0.23682292302232083037 0.024762051673125021201 0.080258317926241856677 -0.8864453019353979446 0.068269971945968177529 -0.04610332369173010536 -0.46546659428504666423 0.29497655224908242433 0.173325770751226238 -0.0089928555568713833268 0.22396941203781872698 0.090630761164681994391 -0.80193958417416166817 -0.41756940603774383991 0.53369247135170005958 -0.084975348632727126796 0.35014593595365056666 -0.00018415454862111789447 0.18311862272083986869 -0.13443334039132659452 -0.4343427345787387317 -0.083097726276442102078 0.12914268785833382669 -0.88862522642767149961 0.22552712789009846106 0.66441742051541985425 0.097843197018858976688 -0.0064164012775948173206 0.26967596951424543938 0.1760909575677687966 -0.12624832671827831976 -0.20709294992444493566 0.22328324911870411906 -0.012942246410950108276 -0.05403113752428152089 -0.1162018477642098313 -0.053996294247846909897 0.0033368309418527475341 0.56988965218470744034 -0.064761968210979986571 -0.072364919380604381116 -0.012160992386772704818;-0.087814129414561348241 -0.074814417229695021061 -0.0080995785383067304269 0.25283959077405471216 0.084980249206651717331 0.00070550340597885438654 0.038884076240946266467 -0.0052535376830869506826 -0.38674608329424775555 -0.070674862596286122662 -0.37870257491845887854 0.40085161173188815775 0.48663920228325491246 -0.095599387502799129668 -0.026305603452247999785 -0.11153552780050143833 -0.091040437226719589381 -0.082809618097007944848 0.34789025366415365914 0.071153974800072003482 -0.072611656915777186838 -0.43645077086517797271 0.010727728028082375578 -0.26130786996898947017 0.11892028533291668091 0.55002734148495258104 0.61022914744125056341 0.11568760747441274306 -0.10253466819561107837 -0.25902844204337138745 -0.070786498829830651891 -0.14414474339617117105 0.24024159881066084465 -0.3455400863116174226 -0.51648820860924127274 0.19190341249018055825 -0.33644658143296862773 0.090152595500667342954 0.57245211798961492811 -0.31383822925263232806 -0.20003084654307073942 0.077793125338864177465 0.23885690019739425072 0.067611109821477347048 0.39116417083470411686 -0.17528368218527082267 0.19531159966698546926 -0.015003282679391841126 0.010567283383497074606 0.24813425588482657114 -0.042362572513829001297 -0.26646252389492181001 0.0034502750273304391704 0.042661101383438926327 0.24742337202419950604 -0.14813373863740822434 0.58850930435378812078 0.27449442142083690932 0.13570996549091249306 0.14710682712535474992 -0.11204836680023522177 -0.2680094162130033375 0.11005789287642940566 0.23341093266306239817 -0.027614242070795481238;0.022304648988167346396 0.11267157364617441662 -0.14264505957800682756 0.24020043081159780929 0.76535262164732109635 0.15768588198058924865 0.14753796393518517349 -0.11370329071160220624 0.58012731317566668121 0.50501515002870067672 0.098684031742160130407 0.089303808638136111808 0.16164560277998948901 0.13363063853188966723 0.02827979876981684404 0.12975689985424546102 0.28039963049291832808 0.44329784097961999478 -0.010132049843911944409 -0.021839317949516792033 -0.050758964103610734742 -0.0032228298720496486099 0.53238958522071322399 -0.063216901361482391586 0.018780844816003804121 0.40022935989781399657 -0.21399280654512370381 -0.13066495446394441049 0.20362417116735251343 0.24647027251439376783 -0.07578119267190079611 0.061506219839897333101 0.13618113866630562891 -0.70443405390956648215 -0.26367941592260873973 0.60126175605834697446 -0.089683619848761580995 0.22944368830947273197 0.42252159913172276928 -0.11581332966019763919 0.12259319816711782003 -0.18442639464968785257 0.19838598877787255725 0.037963499276379722436 0.13428766154704735447 0.098216903643548097991 -0.3103223713780506321 0.55315647839495574178 -0.23524307690208084987 -0.10214888445392095173 0.013270695329544938967 -0.90828277385393518806 0.22481322290938207664 -0.038286548865170522138 -0.22228155635910812338 0.35133732840826392696 -0.018909787894386957674 -0.10939188815691401613 0.16162435682871606479 -0.77221358397212069846 0.35759859291704931827 0.55962211468164368977 0.48551986760979198854 -0.024895047006525367062 -0.28456683560711276693;-0.42754592392070933649 0.16037580041480153925 0.15638264040320112858 -0.46744593415921442681 0.22111696608226766303 -0.22475260916663264421 -0.31108142923578468997 -0.27624109481603476013 0.01004701961537110555 -0.60444945068658917364 -0.76641521490559627594 -0.27621590806975943044 -0.4007459358364369173 0.042857239389958529108 0.022476757018536967087 -0.040150354519271951037 -0.17422539964504527021 -0.34879397305579395994 -0.25180623277920249903 -0.095347635675759059848 0.046120554177008096786 -0.13385176275347993036 -0.26736057149342917771 -0.72467015061840933665 0.080944766111121307928 -0.040694870524360139685 0.21103497316308389431 -0.042561371797563404829 0.023613279372462991912 -0.10118226413477507397 -0.20299605255414912564 -0.21196812208825424606 0.14847336827995857855 -0.42203599152459758681 0.32491749054876811753 0.01250248233844890311 -0.090417242627167077051 -0.12103182469839884883 0.45575846294013205862 -0.11323478131570843819 0.25905332470655051402 0.0032672994965243853938 0.18167299962731225937 -0.1430836244985563277 0.20927624633514341213 -0.386286816868268712 0.77587618587657081193 0.44919114846515229011 0.50020309946231900078 -0.24111529605769985163 -0.62808133171754787494 -0.029148339437054422707 -0.059960365283821190352 0.042851158716318643593 -0.065174693193584570805 0.46004987987463286103 -0.081794730269446586091 -0.01809991162081230065 -0.21286897103287646948 0.41629189651475229095 0.60982086400657442571 0.49855475187531828052 -0.18272108921740271015 -0.85359449481019922246 0.51477205142730408927;0.057963432623843097469 -0.037824450336219193891 0.27837205459885722147 -0.90201478068180651615 -0.1146338831199971986 0.41470261802634594828 -0.48155379740838338831 0.87531076162607512892 0.065973254768525155245 0.45611855994347672016 0.19653457075178179525 -0.48404816222823709992 0.51054331918381734567 -0.29499126781304790823 0.11522145969756217299 -0.24407248917098678387 0.2189984536677849758 0.0092181884348956702468 0.23516529463157417879 -0.22634820061705873684 0.29289667193039387039 -0.079536866112699861064 0.13246935098701273503 0.34128507950571401741 -0.26037096079508975643 0.14065269981002681554 -0.037805499127740505028 -0.35300731893069631218 -0.0020855414533694060369 0.22207571761739650085 0.10222908740134026284 0.43692382858692224712 -0.057983473391967049748 -0.13706358789241493423 -0.45664629622191488245 -0.57186814054989631995 -0.19978932784630465402 -1.003415345150010296 0.42221536890573224676 0.2496310299048098702 0.096509872772235993921 -0.17524229982462605215 -0.79040609877565293218 -0.13099124392311436993 0.27703362823885729904 -0.27636175122119732706 0.25197237074671785528 0.14370413459414957402 -0.19746724369714963032 0.1658294507896390102 0.79851483883268703501 -0.17336470531699857411 0.043769053217059622485 0.10864451343999166621 0.41482773541095968595 -0.71242517283644513082 0.57120039182600657046 0.94495830258350177466 -0.40916682180922236967 -0.44728286037401016051 -0.48082416555898310762 0.40718103050121073894 -0.089398688849232868514 -0.60321127763891002616 0.019038993154119485118;0.62182831731828902555 0.02272769260303427255 -0.017093066958271670858 -0.3274916362218200927 -0.70787306635946334321 0.077218634488472603916 0.0017121563917618411177 0.17629841742757060286 0.19408809276719801717 -0.30966813530728326542 0.48050087518337591952 -0.29876787473537136375 -0.48398388762112592998 0.061003731513244292828 0.017215812523099678633 0.068620318070064051375 -0.18439705254084109987 -0.12685749619412439726 0.049439849685478265418 -0.091581385934012923822 0.11729014899990307386 0.44078141947817955915 -0.21776578086698827885 0.51690669265925903719 -0.093378967231820764194 -0.58284608353906841582 -0.79423406153482134506 -0.23890070859483614196 0.21474241759548481912 -0.13434793967483835142 -0.1116187238763522438 0.0042406835947060642078 -0.31483043064687310508 0.46200742497021723976 0.66675114233642296391 0.04759485672362114006 0.60545845094191541591 -0.43247804103207204696 -0.42199170823272114106 0.5698079302664339485 0.27854116845770698907 -0.12820176200542279799 -0.10627925977277234704 0.01365233983493479436 -0.49061341310551520589 0.34480586142282082518 -0.028272474662484406438 0.12562952703681556921 0.16804231477123723892 -0.14368803076280162179 -0.084976820452469709055 0.0025210399114466292003 0.064668327413354237398 -0.041356302076848157345 -0.21596470181968085988 -0.40028518531989826235 -0.37416126783065922767 -0.39031863676998929114 -0.15946560874022913668 -0.079152019398441686437 -0.1906376164209228341 0.33567153299992175119 -0.085674733982703032975 0.00082551769061039656505 -0.14749494537942320349;-0.16950657939157803833 -0.094687809139288800497 0.031066451368416340972 0.066986624525634572147 -0.20605941536304051009 0.0017019905842132546092 -0.16042094702529713368 0.4034503232655350935 0.59026903688910603574 -0.46832695592044953914 0.77889377472194687435 -0.16625775502779485682 0.30449339411165832203 0.091589867462429044864 0.058227062381554915704 0.057013683307420001678 -0.08605820260789548426 -0.23442814442209752857 0.17170337545050659567 -0.24087810484895891272 -0.0042862367898519812548 0.37095216978964540289 -0.11678544903166551694 0.42215477426923253557 -0.23609023011395061098 -0.17429656237923876749 0.22304284898505311041 -0.21020124758249633667 -0.15395591842840233854 -0.10224628438042693279 0.13412270770416764853 -0.18734343148150270353 -0.085379440775160769794 0.62466010123886372973 -0.21669315577192813094 0.2622593713814076466 0.49723763052159264397 0.12837206081764290788 0.15359974976711274208 -0.088487615092868773803 0.057958515556617379305 0.15201336923135105872 -0.23523971011015432087 0.23821464683196991174 0.030689835076902108324 0.31598150966647814419 -0.44675869863116501879 0.10591264106354228436 -0.1213683256925899151 -0.47195394284056452205 0.19777999646061095174 -0.052135803164928218312 0.059611256554005898067 0.073072689875462851217 0.091811981310099669007 0.2463732091974942251 0.28410277549806695063 -0.17234616465400096064 -0.22121602970479056771 -0.01183257838792672878 0.24761124556119892826 0.53567888954906872634 -0.30388944757565938826 0.29258070173201755626 0.042142850993659053405;0.24002826580682307123 0.018777842861702212507 -0.11841800210858166587 0.13576392519844857065 0.46676549017049473456 0.21721445604249225991 0.11019572739477212497 0.047353441065938091381 0.46663042115771086182 0.10216390973661064467 0.26013061809306259331 0.029377002684319725168 -0.15207019829670687106 0.087460798114271084969 0.058665668964913361694 0.33400053470680324263 0.15715119215113412809 0.26918770881082410007 0.14930514948642231721 -0.06425284296745255308 -0.071264961931681511387 0.2124188347670407373 0.25991480747118139716 0.16117968801320101124 -0.15032260303827782444 0.36867001155371159626 0.079001410088770943063 -0.08404697278733300192 0.050551654213778780822 0.10091318731168524847 -0.11842587125452190555 0.10640861581456863283 0.075791602217429338006 -0.51643866395021587046 0.35428770504015327791 0.099653930209007979268 0.23738812395464842231 0.1637647477877110791 0.25483316692373086942 -0.078067422020690308004 -0.040335957251527339296 -0.12870630808981381454 0.23937665888773368428 -0.041034019700920132401 0.17981278562773217455 0.048869198240056574423 -0.028425416402519977643 -0.0061894292902687549768 0.31485564752963002277 -0.18952796083786171977 -0.032708486258971811167 -0.68991609294493516646 0.038688118657901990338 0.038510921227961222857 -0.25575675666320218937 0.49250899860298746891 -0.084555149096098083938 0.077207810192598536059 0.087817566122004281359 -0.3617187062876536241 0.53874057493636817728 0.204277889003540436 0.19542525412313002664 -0.11094374345541237192 -0.40177478182474168911;-0.60915963651337179385 -0.17144089308204632505 0.24942065713120772918 -0.053600739285717839688 0.32579932629784202902 -0.1109766086612768432 -0.24936701203563793605 -0.39378136003702174373 -0.34626294440000543462 0.38862258016060952093 0.2129787301982005443 -0.5829744670969799758 0.05451482784146854943 0.22792407166165812304 -0.13044968342385890314 -0.081058707603372540107 0.43513959819582470612 -0.30080420073056257646 -0.078047074977761990433 -0.05579239540597440844 -0.34512788763392077129 -0.35807032069904487503 0.20255221398333236871 -0.26433289883069904791 0.1136639746564200304 0.045311428515570760511 -0.10395239668226571861 -0.15364144418584282925 0.10252890357395796905 0.12344656163988620978 -0.14554230542891088973 0.016944203294471334165 0.24153089912496508718 0.33536301983262900572 0.39851430080989774796 -0.43879809496618982223 0.15905390326894131015 0.76452783884826414074 -0.0069732482422448331671 0.37840670318075608769 0.090776404663780424498 -0.17887865833400226623 0.022251360221562176134 0.017718489742667105358 -0.23560311422742921672 0.018553515748463741963 -0.10081154679566804722 0.061164947185977661115 -0.28502707186393116956 0.25295057483903360396 -9.9501310262969933085e-05 0.26054765899316012501 0.10861168871921154933 0.026477297362097838157 0.43409238293778251716 -0.2715454046643158148 -0.4341777431963988465 -0.025483656973083385067 -0.19470382322096041472 -0.23432711524917648749 0.41357659861687579017 -0.46391893047401827621 -0.23000782662782257026 0.49486159459055600873 0.23243646049702965106;-0.27697277608533737991 -0.076187493796253627498 -0.26436448444803878344 0.23671539812780348355 0.14438586303872608108 -0.41768120423973031929 -0.065196650574885647855 -0.47355157138440534537 0.052479058650284807208 -0.14766971427299455111 0.63099661326581846232 0.4992039265157649508 -0.13836960768187722692 0.020244074521504121927 -0.11057648491351404485 0.4841485087228309947 0.20468287949865765496 0.10591314251083885911 -1.1122101087735423164 -0.086617472012208568399 -0.089671023119710285831 0.025171284305848459772 -0.3529088861212900663 0.58700002567203501957 -0.12652055318787189253 -0.4773501364762083865 -0.086610750295308291946 0.3124809502365431535 -8.4590936929819157686e-05 0.062149278764009129039 0.2612224337432245691 -0.87336556446271307319 -0.0047539256753355157992 -0.098365944004907501785 0.024787699435207991017 -0.20407507998173346486 0.58493752754491257217 0.56648930547786602308 -0.2262217374779155743 -0.3209417383999998985 -0.071538611355224601684 0.10305454004618572195 -0.5193494600706083375 0.19991233751994919032 -0.34223049368599256503 -0.085174876650370878739 0.11972230895441711429 -0.38785086783763073059 -0.18059765443995851042 0.10070490095599468616 -0.53979107619236976756 -0.26063880225014962599 0.0081821232381055417071 -0.16193674790904472038 -0.18597637261309107881 -0.70951109335458240057 -0.028074154398194585414 -0.50139083446926335785 -0.051255478282203205398 0.32880138461403185524 -0.23768154768276941735 -0.50046341833529262022 0.43739439368945504105 0.40315599632875231961 -0.52356433020812587209;0.19086647809731155379 -0.1114429855363088806 0.11198991555179922675 -0.36600083914126779749 -0.37060220665976001397 -0.16718021895754914263 0.044255939750142039846 -0.83636014825611870727 -0.14549067353119432555 -0.61737050806073257014 0.12788795119180360049 -0.01198590110518586542 0.21067523325567813486 0.013750499840019966141 -0.079350232792077535215 -0.080957801379842223022 0.014763029896923527198 -0.31443120790617290483 -0.055572713426149999982 0.10545453598268322848 -0.21513146066927146816 -0.022644581538479872235 -0.51751712727195475772 -0.2082580731607795721 0.026848123760004786315 -0.021048499029575340469 -0.13929392926724804003 0.12693992698728640001 -0.071386280761884107759 0.097692058839129097825 0.42768513675455205325 0.1694459958300549296 0.12897736149117752791 0.39290909737905088672 -0.41214412454273230413 -0.31984452254159495554 0.10843273041030086767 -0.45993728078696705097 -0.037170138546774679489 0.25712062074300318093 -0.084188131958487233408 0.11189439718506742627 0.092541204648915520448 -0.021364977086742301116 0.014069486055095999782 0.070975385042617314402 0.47622563602929623983 -0.047369103372799814533 0.35391584756584160143 0.0022345469607773227327 0.55239117507299906329 0.022259346818703069915 -0.1227799728679937058 -0.023616259156368862859 0.096652488253425067333 0.24466375448997473852 0.051123603629109441726 -0.092836469010420322179 0.085325966474661826822 0.51512359839308319298 -0.040364024346377772035 0.13653330330289498162 -0.058319774077986344385 0.23921903262201718587 0.32117032671519230025;0.5276816024939048333 0.031698887331955548363 0.19809759945720370466 -0.020281449583114615626 -0.45422479468652321444 0.3742789709097396611 0.23988977515106918448 0.0740239040057159986 -0.14913505432979115573 -1.102976317694211339 0.25440580588047084776 -0.29055210111193585654 -0.58601687246939848652 0.073798378901801145457 0.084066891097168597313 0.086466633813454887858 0.079523769178648076594 -0.31871578975972408854 0.33345032330278884247 0.019350216988054252942 0.090864231466200651166 -0.14018984767628217547 -0.44767261592614127075 0.31872951814785727143 -0.08227506386452433651 -0.78041998594267347755 -0.36526057023444596927 -0.32628543196776460533 -0.16556798527141591837 0.18220388787348440474 -1.0539009304812803069 0.36088295918667612217 0.13058580357770019353 0.09533859589299258086 0.25337185220924218765 0.1293167688905339785 0.11377814911293102074 0.56031715182853703006 -0.17455900009420374785 0.13653664142926252856 0.054139632136817883445 0.13964020237205929109 0.17947466032485376308 0.05443485979367460037 0.10985865599424737837 0.36509560161277804236 0.066310058260543619513 0.39454361512808644452 0.59266605072247591224 -0.50232779604081267966 0.27722884751336890341 -0.090505905899145325244 -0.10375219050175570057 0.11258113472027614366 -0.46887957815707609344 0.20560170988551657034 0.27633674748013309364 0.72140773551772663374 -0.16711948899216122477 0.16506557991923362372 -0.28786376375436095731 0.75245278091770728679 -0.063009407893353894248 0.079203031258689660099 -0.17053211606285045843;-0.23798877818128300055 -0.017002582916549022901 -0.08358211410432932198 0.087679794739139893522 -0.099666298376201056808 -0.40766268083494205943 -0.035024516074497150098 -0.050946636568002232059 -0.078813194923156359994 -0.43431467890828201472 0.081182541274217839833 0.18524455671362682896 -0.53810781561674247975 -0.062792160303874175464 0.017850851092270227094 0.27038174625233363235 0.47153202226269108621 -0.12949068019258483386 -0.040502027606804005821 -0.013520609996262828584 -0.027421414165626725734 0.024810392116748111735 -0.45660294923602817718 0.18407971192198613331 0.21903561027495416225 0.079228220232170951109 -0.10380958429224129702 0.06325295418454482399 0.18921058401651394409 -0.0076398450145830215652 0.3562444012786838976 0.093732842059636292675 -0.051468242245721551598 -0.37928105663707495365 0.38163837118441557017 0.038285016346029002166 -0.37872805276017590392 0.13858670814695467355 0.15557853056891579602 -0.13615547672588165784 0.026625118295962139914 -0.18691517649558900271 -0.37936936188856512642 0.17287286444760560644 0.024058792551906141299 -0.0056061726265628133298 0.22208470542804220615 -0.51676331659200247515 0.56496818403737247838 0.40200876853739442307 0.17078037394298276053 -0.22824172388157495939 -0.041653895260759937758 -0.058672131376476754916 -0.098377237176678219988 -0.97256107188670715136 0.38317349322552951563 -0.23668300853609564038 -0.024709924758404232942 0.18593736911192962347 -0.28441802007085903448 -0.0044109516222288758236 0.29229584789427304203 0.31174402861054312242 -0.17786791938334892138;-0.21732537106274577021 -0.13927442518340996114 0.25972049179075484826 -0.20940363296568265117 -0.18796674103765015351 0.020778880835854433851 -0.13427799052227309962 -0.36906687155371803444 -0.0036232511109841047947 -0.36728721310158457536 -0.016454747503505562367 -0.11282960905756860004 -0.098802591350324112107 0.055487874887675189828 -0.093352899478981163361 -0.12589040060588596592 -0.16481997517795526909 -0.69338097576390944621 -0.19435248594734930161 0.027922278964379942251 -0.31366075162994322412 -0.042554000777530270883 -0.78627587028568313166 -0.084037095524947147407 0.015172641105394981537 -0.041993667647527745113 -0.24079067065057999097 -0.017498491431981042649 0.019622144462189388542 0.095375787261480049484 -0.023164713403751781978 -0.01863257699849409435 0.23043831982134985181 -0.11793507678239957548 -0.31705603619297167972 -0.17302519396339996471 0.38187454984228746957 0.13058226156854357836 0.16405222927228294005 0.43479835068539390841 -0.00664738637195535359 -0.023857965685086312407 0.04702419456796328584 0.092894173595164303281 -0.00930361656492421224 0.00016186538542749956404 0.48679977880099511989 0.06165295466269215402 0.013539190473975906692 -0.21014999129174782855 0.37702283772444350474 0.13573943907924546082 0.034371830394089593341 0.089140207850012309621 0.25950131872048615156 0.26754228866120755015 0.1541048955829525946 -0.15384268992164493173 -0.053903263743460660962 0.4788413972034751831 -0.039667112285201013011 0.32171928594863524742 0.03948714103453981189 0.32537268138354780156 0.24006875109125386247;-0.55823700788929164762 0.11683832434952581836 -0.034984155858363501224 0.48032243992455125881 -0.24227358052058708959 -0.062727985896993576631 -0.002208997129206894186 0.43603067968341147065 0.25043759894711092873 0.41104103646954065487 0.13144338049427120585 -0.73052637720778612618 -0.16897694000140620063 0.035189526988241827399 0.04105534046839139084 0.03529653429003296039 0.20007602015857658961 -0.19470179914984492298 0.22773785456794323756 -0.16594694220770228599 0.2199541488920434551 0.32602446175301252884 0.39686467557294224928 0.21233364458762554738 -0.099663485401134913055 0.13849343688916920803 0.39813699665818158557 0.018080876448946278656 -0.21801230117335984593 -0.19365969891939963099 -0.19137004814912600414 0.20445200462115467599 -0.090490444217790469428 0.67917164957009923398 0.52222391172812709925 0.26577939846223114229 0.0020054654075488259624 -0.021252265437955886185 0.050255232858458509515 -0.054329760099855968492 0.0090065646625318122875 0.04655964448313029691 -0.015813358558531075138 -0.16591354381830711318 0.044724841035168633185 -0.085382809339922233205 -0.40867254828881716122 0.21439218813965779664 -0.049860566992935950736 -0.084532126787438641169 -0.5585243105147366105 -0.08046305386517434155 0.009010243396528646101 0.035881174084343533948 0.049981052989785113017 -0.35347362887667760356 0.1923847296549579533 0.11617832819136808542 -0.17862011243160400009 0.017130338585505576476 -0.16976783799736799851 -0.47226101666607883667 -0.052836757940550233004 -0.57547460804156846947 -0.12884973090346546476];

% Layer 2
b2 = [0.17666503417513035323;0.10917207711360935041];
LW2_1 = [0.63598253397267456855 -0.85768251475583612287 1.0691873914452170169 0.42276471683937322243 -1.9672468126737980842 -1.2928070770063500028 -0.79669673542377528186 0.58917574332683431138 -0.26651353088674745173 -0.14171065117067641048 -0.53970686226823783027 0.1961034021094930635 -1.1153651200637630936 0.54686275303868869813 -0.30681020187563795565 0.450828392785623977 0.7059570239631927091 0.97279307491585531587 -1.0853091349979340219 0.69410945642679944267;0.48899239440616915076 -0.71414790421750573568 0.91777484564083500196 0.34991695129709404766 -1.7280297461170048834 -0.97878521245097815928 -0.61228489579262035392 0.45596047274622381051 -0.20106585834695564485 -0.17446825784330008413 -0.49457063946794482812 0.21436664788515794045 -0.98170920877446743447 0.39171888981254632256 -0.28596017423537101187 0.074752653121475776121 0.66719715717996042059 0.89034296426989745221 -0.64352212548011622495 0.56139740839526020011];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;1];
y1_step1.xoffset = [-1;-1];

% ===== SIMULATION ========

% Dimensions
TS = size(x1,2); % timesteps

% Input 1 Delay States
xd1 = mapminmax_apply(xi1,x1_step1);
xd1 = [xd1 zeros(13,1)];

% Allocate Outputs
y1 = zeros(2,TS);

% Time loop
for ts=1:TS
    
    % Rotating delay state position
    xdts = mod(ts+4,6)+1;
    
    % Input 1
    xd1(:,xdts) = mapminmax_apply(x1(:,ts),x1_step1);
    
    % Layer 1
    tapdelay1 = reshape(xd1(:,mod(xdts-[1 2 3 4 5]-1,6)+1),65,1);
    a1 = tansig_apply(b1 + IW1_1*tapdelay1);
    
    % Layer 2
    a2 = b2 + LW2_1*a1;
    
    % Output 1
    y1(:,ts) = mapminmax_reverse(a2,y1_step1);
end

% Final delay states
finalxts = TS+(1: 5);
xits = finalxts(finalxts<=5);
xts = finalxts(finalxts>5)-5;
xf1 = [xi1(:,xits) x1(:,xts)];
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end